# Manager Agent å¿«é€Ÿå‚è€ƒ

## âœ… è¿è¡ŒæˆåŠŸæ€»ç»“

åˆšåˆšæˆåŠŸè¿è¡Œäº†**è¯­è¨€ç¿»è¯‘ Manager Agent**ï¼

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### Manager æ¨¡å¼æ¶æ„å›¾

```
ç”¨æˆ·è¯·æ±‚: "æŠŠ 'Hello' ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­ã€æ³•è¯­å’Œæ„å¤§åˆ©è¯­"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ç¿»è¯‘ç®¡ç†å™¨ (Manager/Orchestrator)      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ åˆ†æ: éœ€è¦3ç§è¯­è¨€ç¿»è¯‘             â”‚   â”‚
â”‚  â”‚ å†³ç­–: ä¾æ¬¡è°ƒç”¨3ä¸ªå·¥å…·             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚           â”‚           â”‚
      â”‚ å·¥å…·è°ƒç”¨1  â”‚ å·¥å…·è°ƒç”¨2  â”‚ å·¥å…·è°ƒç”¨3
      â”‚           â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Spanish   â”‚ â”‚ French  â”‚ â”‚ Italian    â”‚
â”‚ Translatorâ”‚ â”‚ Trans.  â”‚ â”‚ Translator â”‚
â”‚  Agent    â”‚ â”‚ Agent   â”‚ â”‚  Agent     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ ç»“æœ1     â”‚ ç»“æœ2     â”‚ ç»“æœ3
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                                   â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ åˆæˆå™¨ Agent     â”‚
                        â”‚ æ•´ç†æ‰€æœ‰ç¿»è¯‘     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
                          æœ€ç»ˆæ ¼å¼åŒ–è¾“å‡º
```

## ğŸ“ ä»£ç é€ŸæŸ¥

### 1. åˆ›å»ºä¸“ä¸šä»£ç†

```python
spanish_agent = Agent(
    name="è¥¿ç­ç‰™è¯­ç¿»è¯‘ä¸“å®¶",
    instructions="ä½ æ˜¯ä¸“ä¸šç¿»è¯‘ï¼Œç¿»è¯‘æˆè¥¿ç­ç‰™è¯­",
)
```

### 2. åˆ›å»º Manager

```python
manager = Agent(
    name="ç¿»è¯‘ç®¡ç†å™¨",
    instructions="ä½¿ç”¨å·¥å…·å®Œæˆç¿»è¯‘ï¼Œä»ä¸è‡ªå·±ç¿»è¯‘",
    tools=[
        spanish_agent.as_tool(
            tool_name="translate_to_spanish",
            tool_description="ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­",
        ),
        # ... æ›´å¤šå·¥å…·
    ],
)
```

### 3. è¿è¡Œ

```python
result = await Runner.run(manager, "Translate 'Hello' to Spanish")
print(result.final_output)
```

## ğŸ”¥ å¿«é€Ÿè¿è¡Œ

### æŸ¥çœ‹æ¼”ç¤ºï¼ˆæ— éœ€ API Keyï¼‰

```bash
cd /Users/williammeng/agent-ai/openai-agents-python/openai-agents-python
source .venv/bin/activate
python translation_manager_demo.py
```

**è¾“å‡ºç¤ºä¾‹:**
```
âœ… å·²åˆ›å»º 4 ä¸ªç¿»è¯‘å·¥å…·
âœ… ç®¡ç†å™¨ä»£ç†: ç¿»è¯‘ç®¡ç†å™¨
   - å·¥å…·æ•°é‡: 4
   - è§’è‰²: åè°ƒå’Œè°ƒç”¨ä¸“ä¸šç¿»è¯‘ä»£ç†
ğŸ“Š å·¥ä½œæµç¨‹: [è¯¦ç»†æ­¥éª¤]
ğŸ’¡ è¿™æ˜¯ 'Manageræ¨¡å¼' çš„å…¸å‹åº”ç”¨
```

### è¿è¡Œå®é™…ç¿»è¯‘ï¼ˆéœ€è¦ API Keyï¼‰

```bash
export OPENAI_API_KEY='sk-your-key'
python translation_manager_demo.py
```

### è¿è¡Œå®˜æ–¹ç¤ºä¾‹

```bash
# æŸ¥çœ‹å®˜æ–¹ä»£ç 
cat examples/agent_patterns/agents_as_tools.py

# è¿è¡Œï¼ˆéœ€è¦ API Keyï¼‰
python examples/agent_patterns/agents_as_tools.py
```

## ğŸ“Š å…³é”®å¯¹æ¯”

### Manager vs Handoffs

| | Manager æ¨¡å¼ | Handoffs æ¨¡å¼ |
|---|---|---|
| **API** | `.as_tool()` | `handoffs=[...]` |
| **æ§åˆ¶** | Manager æ§åˆ¶ | è½¬ç§»æ§åˆ¶æƒ |
| **å¹¶å‘** | âœ… å¯ä»¥ | âŒ ä¸å¯ä»¥ |
| **ç”¨é€”** | åè°ƒå¤šä¸ªä¸“å®¶ | ä¸“é—¨åŒ–åˆ†å·¥ |

### ä»£ç å¯¹æ¯”

```python
# Manager æ¨¡å¼ - å¯ä»¥è°ƒç”¨å¤šä¸ªå·¥å…·
manager = Agent(
    tools=[
        agent1.as_tool(),
        agent2.as_tool(),
        agent3.as_tool(),
    ]
)
# Manager æ§åˆ¶ï¼Œå¯å¹¶è¡Œè°ƒç”¨

# Handoffs æ¨¡å¼ - è½¬äº¤æ§åˆ¶æƒ
triage = Agent(
    handoffs=[agent1, agent2, agent3]
)
# é€‰æ‹©ä¸€ä¸ªå¹¶è½¬ç§»æ§åˆ¶
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### âœ… é€‚åˆ Manager æ¨¡å¼

- ğŸŒ å¤šè¯­è¨€ç¿»è¯‘ï¼ˆåŒæ—¶ç¿»è¯‘å¤šç§è¯­è¨€ï¼‰
- ğŸ“Š é‡‘èåˆ†æï¼ˆåŸºæœ¬é¢åˆ†æ + é£é™©åˆ†æï¼‰
- ğŸ“ ç ”ç©¶æŠ¥å‘Šï¼ˆæœç´¢ + åˆ†æ + å†™ä½œï¼‰
- ğŸ›ï¸ ç”µå•†åŠ©æ‰‹ï¼ˆæŸ¥è¯¢ + æ¨è + æ¯”ä»·ï¼‰
- ğŸ“§ å†…å®¹ç”Ÿæˆï¼ˆå†™ä½œ + å®¡æ ¸ + æ ¼å¼åŒ–ï¼‰

### âœ… é€‚åˆ Handoffs æ¨¡å¼

- ğŸ—£ï¸ è¯­è¨€è·¯ç”±ï¼ˆè¯†åˆ«è¯­è¨€å¹¶è½¬æ¥ä¸“å®¶ï¼‰
- ğŸ« å®¢æœåˆ†æµï¼ˆé—®é¢˜åˆ†ç±»å¹¶è½¬æ¥éƒ¨é—¨ï¼‰
- ğŸ¥ åŒ»ç–—å’¨è¯¢ï¼ˆç—‡çŠ¶åˆ¤æ–­å¹¶è½¬æ¥ä¸“ç§‘ï¼‰

## ğŸ“ æ–‡ä»¶ä½ç½®

### åˆšåˆ›å»ºçš„æ¼”ç¤ºæ–‡ä»¶

```
ğŸ“„ translation_manager_demo.py         # å®Œæ•´æ¼”ç¤ºä»£ç 
ğŸ“„ ç¿»è¯‘Manager_Agentè¯´æ˜.md           # è¯¦ç»†æ–‡æ¡£
ğŸ“„ manager_agent_å¿«é€Ÿå‚è€ƒ.md          # æœ¬æ–‡ä»¶
```

### å®˜æ–¹ç¤ºä¾‹æ–‡ä»¶

```
ğŸ“ examples/agent_patterns/
  â”œâ”€â”€ agents_as_tools.py              # åŸºç¡€ Manager æ¨¡å¼
  â”œâ”€â”€ agents_as_tools_conditional.py  # æ¡ä»¶å·¥å…·å¯ç”¨
  â”œâ”€â”€ routing.py                      # Handoffs å¯¹æ¯”
  â””â”€â”€ README.md                       # æ¨¡å¼è¯´æ˜

ğŸ“ examples/
  â”œâ”€â”€ financial_research_agent/
  â”‚   â””â”€â”€ manager.py                  # å®æˆ˜ç¤ºä¾‹1
  â””â”€â”€ research_bot/
      â””â”€â”€ manager.py                  # å®æˆ˜ç¤ºä¾‹2

ğŸ“ docs/
  â”œâ”€â”€ tools.md                        # è‹±æ–‡æ–‡æ¡£
  â””â”€â”€ zh/agents.md                    # ä¸­æ–‡æ–‡æ¡£ï¼ˆç¬¬85è¡Œï¼‰
```

## ğŸš€ 5åˆ†é’Ÿä¸Šæ‰‹

### æ­¥éª¤ 1: å®šä¹‰ä¸“å®¶

```python
expert1 = Agent(name="ä¸“å®¶1", instructions="...")
expert2 = Agent(name="ä¸“å®¶2", instructions="...")
```

### æ­¥éª¤ 2: åˆ›å»º Manager

```python
manager = Agent(
    name="Manager",
    instructions="ä½¿ç”¨å·¥å…·åè°ƒä»»åŠ¡",
    tools=[
        expert1.as_tool(tool_name="task1", tool_description="..."),
        expert2.as_tool(tool_name="task2", tool_description="..."),
    ],
)
```

### æ­¥éª¤ 3: è¿è¡Œ

```python
result = await Runner.run(manager, "ç”¨æˆ·è¯·æ±‚")
```

## ğŸ’¡ å…³é”®æç¤º

1. **Manager çš„æŒ‡ä»¤è¦æ˜ç¡®è¯´æ˜"ä½¿ç”¨å·¥å…·"**
   ```python
   "ä½ ä»ä¸è‡ªå·±ç¿»è¯‘ï¼Œè€Œæ˜¯å§‹ç»ˆä½¿ç”¨æä¾›çš„å·¥å…·"
   ```

2. **å·¥å…·æè¿°è¦æ¸…æ™°**
   ```python
   tool_description="å°†ç”¨æˆ·çš„æ¶ˆæ¯ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­"
   ```

3. **ä½¿ç”¨è¿½è¸ªæŸ¥çœ‹æ•´ä¸ªæµç¨‹**
   ```python
   with trace("My workflow"):
       result = await Runner.run(manager, input)
   ```

4. **å¯ä»¥æ·»åŠ åˆæˆå™¨æ•´ç†è¾“å‡º**
   ```python
   step1 = await Runner.run(manager, input)
   final = await Runner.run(synthesizer, step1.to_input_list())
   ```

## ğŸ“– æ·±å…¥å­¦ä¹ 

### é˜…è¯»æ–‡æ¡£
```bash
# ä¸­æ–‡æ–‡æ¡£
cat docs/zh/agents.md | less

# è‹±æ–‡æ–‡æ¡£
cat docs/tools.md | less
```

### æŸ¥çœ‹æºç 
```bash
# æŸ¥çœ‹ as_tool å®ç°
cat src/agents/agent.py | grep -A 30 "def as_tool"
```

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œç›¸å…³æµ‹è¯•
pytest tests/test_agent_as_tool.py -v
```

## â“ å¸¸è§é—®é¢˜

**Q: Manager æ¨¡å¼å’Œ Handoffs æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**  
A: Manager ä¿æŒæ§åˆ¶æƒï¼Œå¯è°ƒç”¨å¤šä¸ªå·¥å…·ï¼›Handoffs è½¬ç§»æ§åˆ¶æƒï¼Œåªé€‰ä¸€ä¸ªã€‚

**Q: ä½•æ—¶ä½¿ç”¨ Manager æ¨¡å¼ï¼Ÿ**  
A: éœ€è¦åè°ƒå¤šä¸ªä¸“å®¶ã€å¹¶è¡Œå¤„ç†ã€æˆ–ä¿æŒä¸­å¿ƒæ§åˆ¶æ—¶ã€‚

**Q: å¯ä»¥åŠ¨æ€å¯ç”¨/ç¦ç”¨å·¥å…·å—ï¼Ÿ**  
A: å¯ä»¥ï¼ä½¿ç”¨ `is_enabled` å‚æ•°ä¼ é€’å‡½æ•°ã€‚

**Q: å¦‚ä½•è¿½è¸ª Manager çš„å·¥å…·è°ƒç”¨ï¼Ÿ**  
A: ä½¿ç”¨ `with trace()` åŒ…è£¹æ•´ä¸ªæµç¨‹ï¼Œåœ¨ OpenAI Dashboard æŸ¥çœ‹ã€‚

**Q: Manager å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ª Manager å—ï¼Ÿ**  
A: å¯ä»¥ï¼è¿™æ ·å¯ä»¥æ„å»ºå±‚æ¬¡åŒ–çš„ä»£ç†ç³»ç»Ÿã€‚

## ğŸ‰ æˆåŠŸï¼

æ‚¨å·²ç»æˆåŠŸï¼š
- âœ… ç†è§£äº† Manager æ¨¡å¼æ¦‚å¿µ
- âœ… è¿è¡Œäº†è¯­è¨€ç¿»è¯‘ Manager Agent
- âœ… å­¦ä¼šäº†å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨ Manager
- âœ… æŒæ¡äº†ä¸ Handoffs æ¨¡å¼çš„åŒºåˆ«

## ä¸‹ä¸€æ­¥

1. å°è¯•æ·»åŠ æ›´å¤šè¯­è¨€æ”¯æŒ
2. å®ç°æ¡ä»¶å·¥å…·å¯ç”¨
3. æ„å»ºè‡ªå·±çš„ Manager åº”ç”¨
4. æŸ¥çœ‹é‡‘èç ”ç©¶ç¤ºä¾‹äº†è§£å®æˆ˜åº”ç”¨

---

**å¿«é€Ÿå‘½ä»¤**
```bash
# è¿è¡Œæ¼”ç¤º
python translation_manager_demo.py

# æŸ¥çœ‹æ–‡æ¡£
cat ç¿»è¯‘Manager_Agentè¯´æ˜.md

# è¿è¡Œå®˜æ–¹ç¤ºä¾‹
python examples/agent_patterns/agents_as_tools.py
```

