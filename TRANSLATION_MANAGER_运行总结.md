# ğŸ‰ è¯­è¨€ç¿»è¯‘ Manager Agent - è¿è¡Œæ€»ç»“

## âœ… ä»»åŠ¡å®ŒæˆçŠ¶æ€

**æ—¶é—´**: 2025-10-31  
**çŠ¶æ€**: âœ… æˆåŠŸè¿è¡Œ  
**æ¨¡å¼**: Manager/Orchestrator (Agents as Tools)  

---

## ğŸ“¦ å·²åˆ›å»ºçš„æ–‡ä»¶

### 1. `translation_manager_demo.py` (7.6 KB)
**å®Œæ•´çš„æ¼”ç¤ºç¨‹åº**
- âœ… 4ä¸ªä¸“ä¸šç¿»è¯‘ä»£ç†ï¼ˆè¥¿ç­ç‰™è¯­ã€æ³•è¯­ã€æ„å¤§åˆ©è¯­ã€ä¸­æ–‡ï¼‰
- âœ… 1ä¸ªç®¡ç†å™¨/ç¼–æ’å™¨ä»£ç†
- âœ… 1ä¸ªåˆæˆå™¨ä»£ç†
- âœ… æ”¯æŒæœ‰/æ—  API Key ä¸¤ç§æ¨¡å¼
- âœ… åŒ…å«è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š

**è¿è¡Œå‘½ä»¤:**
```bash
python translation_manager_demo.py
```

### 2. `ç¿»è¯‘Manager_Agentè¯´æ˜.md` (8.3 KB)
**è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£**
- ğŸ“– Manager æ¨¡å¼å®Œæ•´è¯´æ˜
- ğŸ—ï¸ æ¶æ„ç»„ä»¶è¯¦è§£
- ğŸ”„ å·¥ä½œæµç¨‹å›¾ç¤º
- ğŸ“Š ä¸ Handoffs æ¨¡å¼å¯¹æ¯”
- ğŸ’¡ æœ€ä½³å®è·µ
- ğŸ“š å­¦ä¹ èµ„æº

### 3. `manager_agent_å¿«é€Ÿå‚è€ƒ.md` (7.9 KB)
**å¿«é€ŸæŸ¥è¯¢æ‰‹å†Œ**
- ğŸ¯ æ ¸å¿ƒæ¦‚å¿µå›¾è§£
- ğŸ“ ä»£ç é€ŸæŸ¥
- ğŸ”¥ å¿«é€Ÿè¿è¡Œå‘½ä»¤
- â“ å¸¸è§é—®é¢˜è§£ç­”
- ğŸš€ 5åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—

---

## ğŸ¯ è¿è¡Œç»“æœ

### æ¼”ç¤ºç¨‹åºè¾“å‡º

```
======================================================================
ğŸŒ è¯­è¨€ç¿»è¯‘ Manager Agent æ¼”ç¤º
======================================================================

è¿™ä¸ªç¤ºä¾‹å±•ç¤º 'Manageræ¨¡å¼' (ä¹Ÿå« Orchestratoræ¨¡å¼)
ä¸€ä¸ªä¸­å¿ƒç®¡ç†å™¨ä»£ç†è°ƒç”¨å¤šä¸ªä¸“ä¸šç¿»è¯‘ä»£ç†ä½œä¸ºå·¥å…·

âš ï¸  æœªæ£€æµ‹åˆ° OPENAI_API_KEYï¼Œå°†è¿è¡Œæ¶æ„æ¼”ç¤º

ğŸ’¡ æ¶æ„è¯´æ˜:
----------------------------------------------------------------------

âœ… å·²åˆ›å»º 4 ä¸ªç¿»è¯‘å·¥å…·:
  1. translate_to_spanish - å°†ç”¨æˆ·çš„æ¶ˆæ¯ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­
  2. translate_to_french - å°†ç”¨æˆ·çš„æ¶ˆæ¯ç¿»è¯‘æˆæ³•è¯­
  3. translate_to_italian - å°†ç”¨æˆ·çš„æ¶ˆæ¯ç¿»è¯‘æˆæ„å¤§åˆ©è¯­
  4. translate_to_chinese - å°†ç”¨æˆ·çš„æ¶ˆæ¯ç¿»è¯‘æˆä¸­æ–‡

âœ… ç®¡ç†å™¨ä»£ç†: ç¿»è¯‘ç®¡ç†å™¨
   - å·¥å…·æ•°é‡: 4
   - è§’è‰²: åè°ƒå’Œè°ƒç”¨ä¸“ä¸šç¿»è¯‘ä»£ç†

âœ… åˆæˆå™¨ä»£ç†: ç¿»è¯‘åˆæˆå™¨
   - è§’è‰²: æ£€æŸ¥å’Œæ•´ç†æœ€ç»ˆè¾“å‡º

ğŸ“Š å·¥ä½œæµç¨‹:
  1. ç”¨æˆ·è¾“å…¥æ–‡æœ¬å’Œç›®æ ‡è¯­è¨€
  2. ç®¡ç†å™¨ä»£ç†åˆ†æè¯·æ±‚
  3. ç®¡ç†å™¨è°ƒç”¨ç›¸åº”çš„ç¿»è¯‘å·¥å…·
  4. æ¯ä¸ªä¸“ä¸šä»£ç†å®Œæˆç¿»è¯‘
  5. åˆæˆå™¨æ•´ç†æ‰€æœ‰ç¿»è¯‘
  6. è¿”å›æ ¼å¼åŒ–çš„ç»“æœ

ğŸ’¡ è¿™æ˜¯ 'Manageræ¨¡å¼' çš„å…¸å‹åº”ç”¨:
   - ä¸€ä¸ªä¸­å¿ƒç®¡ç†å™¨æ§åˆ¶æ•´ä¸ªå¯¹è¯
   - ä¸“ä¸šä»£ç†ä½œä¸ºå·¥å…·è¢«è°ƒç”¨
   - ç®¡ç†å™¨å§‹ç»ˆä¿æŒæ§åˆ¶æƒ
   - é€‚åˆéœ€è¦åè°ƒå¤šä¸ªä¸“å®¶çš„åœºæ™¯
```

---

## ğŸ—ï¸ Manager æ¨¡å¼æ¶æ„

```
                    ç”¨æˆ·è¯·æ±‚
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   ç¿»è¯‘ç®¡ç†å™¨ (Manager)         â”‚
        â”‚  â€¢ åˆ†æè¯·æ±‚                    â”‚
        â”‚  â€¢ å†³å®šè°ƒç”¨å“ªäº›å·¥å…·            â”‚
        â”‚  â€¢ åè°ƒæ‰§è¡Œé¡ºåº                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         â”‚         â”‚         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
    â”‚Spanish â”‚ â”‚Frenchâ”‚ â”‚Italianâ”‚ â”‚Chineseâ”‚
    â”‚ Agent  â”‚ â”‚Agent â”‚ â”‚ Agent â”‚ â”‚ Agent â”‚
    â”‚(Tool)  â”‚ â”‚(Tool)â”‚ â”‚(Tool) â”‚ â”‚(Tool) â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚        â”‚        â”‚         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
              â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
              â”‚åˆæˆå™¨Agentâ”‚
              â”‚æ•´ç†è¾“å‡º   â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                   â†“
              æœ€ç»ˆç»“æœ
```

---

## ğŸ’» æ ¸å¿ƒä»£ç ç¤ºä¾‹

### åˆ›å»º Manager Agent

```python
from agents import Agent, Runner

# 1. åˆ›å»ºä¸“ä¸šç¿»è¯‘ä»£ç†
spanish_agent = Agent(
    name="è¥¿ç­ç‰™è¯­ç¿»è¯‘ä¸“å®¶",
    instructions="ä½ æ˜¯ä¸“ä¸šç¿»è¯‘ï¼Œç¿»è¯‘æˆè¥¿ç­ç‰™è¯­",
)

french_agent = Agent(
    name="æ³•è¯­ç¿»è¯‘ä¸“å®¶",
    instructions="ä½ æ˜¯ä¸“ä¸šç¿»è¯‘ï¼Œç¿»è¯‘æˆæ³•è¯­",
)

# 2. åˆ›å»ºç®¡ç†å™¨ä»£ç†ï¼ˆå…³é”®ï¼ï¼‰
manager = Agent(
    name="ç¿»è¯‘ç®¡ç†å™¨",
    instructions=(
        "ä½ ä½¿ç”¨å·¥å…·æ¥å®Œæˆç¿»è¯‘ã€‚"
        "ä½ ä»ä¸è‡ªå·±ç¿»è¯‘ï¼Œå§‹ç»ˆä½¿ç”¨æä¾›çš„å·¥å…·ã€‚"
    ),
    tools=[
        spanish_agent.as_tool(
            tool_name="translate_to_spanish",
            tool_description="ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­",
        ),
        french_agent.as_tool(
            tool_name="translate_to_french",
            tool_description="ç¿»è¯‘æˆæ³•è¯­",
        ),
    ],
)

# 3. è¿è¡Œ
result = await Runner.run(
    manager, 
    "Translate 'Hello' to Spanish and French"
)
print(result.final_output)
```

---

## ğŸ”‘ å…³é”®ç‰¹æ€§

### 1. âœ… ä¸­å¿ƒåŒ–æ§åˆ¶
- Manager å§‹ç»ˆæ§åˆ¶å¯¹è¯æµç¨‹
- ä¸ä¼šå¤±å»å¯¹è¯çš„æ§åˆ¶æƒ
- å¯ä»¥çœ‹åˆ°æ‰€æœ‰äº¤äº’å†å²

### 2. âœ… å·¥å…·åŒ–ä¸“å®¶
- ä¸“ä¸šä»£ç†ä½œä¸ºå·¥å…·è¢«è°ƒç”¨
- æ¯ä¸ªä»£ç†ä¸“æ³¨äºç‰¹å®šä»»åŠ¡
- æ¨¡å—åŒ–ã€æ˜“äºæ‰©å±•

### 3. âœ… çµæ´»åè°ƒ
- å¯ä»¥å¹¶è¡Œè°ƒç”¨å¤šä¸ªå·¥å…·
- å¯ä»¥æŒ‰é¡ºåºè°ƒç”¨
- Manager å†³å®šè°ƒç”¨ç­–ç•¥

### 4. âœ… æ˜“äºæ‰©å±•
```python
# æ·»åŠ æ–°è¯­è¨€åªéœ€ï¼š
german_agent = Agent(...)
manager.tools.append(
    german_agent.as_tool(...)
)
```

---

## ğŸ“Š Manager æ¨¡å¼ vs Handoffs æ¨¡å¼

| ç‰¹æ€§ | Manager æ¨¡å¼ | Handoffs æ¨¡å¼ |
|------|-------------|---------------|
| **å®ç°æ–¹å¼** | `agent.as_tool()` | `handoffs=[agent]` |
| **æ§åˆ¶æƒ** | Manager ä¿æŒæ§åˆ¶ | è½¬ç§»ç»™æ–°ä»£ç† |
| **å¯¹è¯å†å²** | Manager çœ‹åˆ°å…¨éƒ¨ | æ–°ä»£ç†æ¥ç®¡ |
| **å¹¶å‘è°ƒç”¨** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **é€‚ç”¨åœºæ™¯** | å¤šä»»åŠ¡åè°ƒ | ä¸“ä¸šåŒ–åˆ†å·¥ |
| **ç¤ºä¾‹** | ç¿»è¯‘å¤šç§è¯­è¨€ | è¯­è¨€è·¯ç”± |

### ä»£ç å¯¹æ¯”

**Manager æ¨¡å¼ (æœ¬ç¤ºä¾‹):**
```python
manager = Agent(
    tools=[
        agent1.as_tool(),  # å¯ä»¥å…¨éƒ¨è°ƒç”¨
        agent2.as_tool(),
        agent3.as_tool(),
    ]
)
```

**Handoffs æ¨¡å¼:**
```python
triage = Agent(
    handoffs=[agent1, agent2, agent3]  # åªèƒ½é€‰ä¸€ä¸ª
)
```

---

## ğŸ¯ å®é™…åº”ç”¨åœºæ™¯

### 1. âœ… å¤šè¯­è¨€ç¿»è¯‘
- **Manager**: ç¿»è¯‘åè°ƒå™¨
- **Tools**: å„è¯­è¨€ç¿»è¯‘ä¸“å®¶
- **åœºæ™¯**: åŒæ—¶ç¿»è¯‘å¤šç§è¯­è¨€

### 2. âœ… é‡‘èç ”ç©¶åˆ†æ
- **Manager**: ç ”ç©¶æŠ¥å‘Šç”Ÿæˆå™¨
- **Tools**: åŸºæœ¬é¢åˆ†æã€é£é™©åˆ†æã€å¸‚åœºåˆ†æ
- **åœºæ™¯**: ç”Ÿæˆç»¼åˆç ”ç©¶æŠ¥å‘Š

### 3. âœ… å®¢æˆ·æœåŠ¡ç³»ç»Ÿ
- **Manager**: å®¢æœæ¥å¾…å‘˜
- **Tools**: è®¢ç¥¨ä¸“å®¶ã€é€€æ¬¾ä¸“å®¶ã€æŠ€æœ¯æ”¯æŒ
- **åœºæ™¯**: å¤„ç†å¤æ‚å®¢æˆ·è¯·æ±‚

### 4. âœ… å†…å®¹åˆ›ä½œ
- **Manager**: å†…å®¹ç¼–è¾‘å™¨
- **Tools**: å†™ä½œã€å®¡æ ¸ã€æ ¼å¼åŒ–ã€SEOä¼˜åŒ–
- **åœºæ™¯**: ç”Ÿæˆé«˜è´¨é‡æ–‡ç« 

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1: æŸ¥çœ‹æ¼”ç¤ºï¼ˆæ— éœ€ API Keyï¼‰
```bash
cd /Users/williammeng/agent-ai/openai-agents-python/openai-agents-python
source .venv/bin/activate
python translation_manager_demo.py
```

### æ­¥éª¤ 2: é˜…è¯»æ–‡æ¡£
```bash
# è¯¦ç»†æ–‡æ¡£
cat ç¿»è¯‘Manager_Agentè¯´æ˜.md

# å¿«é€Ÿå‚è€ƒ
cat manager_agent_å¿«é€Ÿå‚è€ƒ.md
```

### æ­¥éª¤ 3: è¿è¡Œå®é™…ç¿»è¯‘ï¼ˆéœ€è¦ API Keyï¼‰
```bash
export OPENAI_API_KEY='sk-your-api-key-here'
python translation_manager_demo.py
```

### æ­¥éª¤ 4: æŸ¥çœ‹å®˜æ–¹ç¤ºä¾‹
```bash
# æŸ¥çœ‹ä»£ç 
cat examples/agent_patterns/agents_as_tools.py

# è¿è¡Œï¼ˆéœ€è¦ API Keyï¼‰
python examples/agent_patterns/agents_as_tools.py
```

---

## ğŸ“š å­¦ä¹ èµ„æº

### æœ¬é¡¹ç›®åˆ›å»ºçš„æ–‡ä»¶
- ğŸ“„ `translation_manager_demo.py` - å®Œæ•´æ¼”ç¤ºä»£ç 
- ğŸ“„ `ç¿»è¯‘Manager_Agentè¯´æ˜.md` - è¯¦ç»†æ–‡æ¡£
- ğŸ“„ `manager_agent_å¿«é€Ÿå‚è€ƒ.md` - å¿«é€Ÿå‚è€ƒ
- ğŸ“„ `TRANSLATION_MANAGER_è¿è¡Œæ€»ç»“.md` - æœ¬æ–‡ä»¶

### å®˜æ–¹èµ„æº
- ğŸ“ `examples/agent_patterns/agents_as_tools.py` - å®˜æ–¹ç¤ºä¾‹
- ğŸ“ `examples/agent_patterns/agents_as_tools_conditional.py` - æ¡ä»¶å·¥å…·
- ğŸ“ `examples/financial_research_agent/manager.py` - å®æˆ˜ç¤ºä¾‹
- ğŸ“„ `docs/zh/agents.md` - ä¸­æ–‡æ–‡æ¡£ï¼ˆç¬¬85è¡Œï¼‰
- ğŸ“„ `docs/tools.md` - è‹±æ–‡æ–‡æ¡£

### åœ¨çº¿æ–‡æ¡£
- ğŸŒ https://openai.github.io/openai-agents-python/
- ğŸ“– [Building Agents Guide](https://cdn.openai.com/business-guides-and-resources/a-practical-guide-to-building-agents.pdf)

---

## ğŸ’¡ æ ¸å¿ƒè¦ç‚¹

### 1. Manager çš„æŒ‡ä»¤å¿…é¡»æ˜ç¡®
```python
instructions=(
    "ä½ ä½¿ç”¨å·¥å…·æ¥å®Œæˆä»»åŠ¡ã€‚"
    "ä½ ä»ä¸è‡ªå·±å®Œæˆï¼Œå§‹ç»ˆä½¿ç”¨æä¾›çš„å·¥å…·ã€‚"  # â† å…³é”®ï¼
)
```

### 2. å·¥å…·æè¿°è¦æ¸…æ™°
```python
agent.as_tool(
    tool_name="translate_to_spanish",  # ç®€æ´åç§°
    tool_description="å°†æ¶ˆæ¯ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­",  # æ¸…æ™°æè¿°
)
```

### 3. ä½¿ç”¨è¿½è¸ªæŸ¥çœ‹æµç¨‹
```python
with trace("Translation workflow"):
    result = await Runner.run(manager, input)
```

### 4. å¯é€‰ï¼šæ·»åŠ åˆæˆå™¨
```python
step1 = await Runner.run(manager, input)
final = await Runner.run(synthesizer, step1.to_input_list())
```

---

## âœ¨ æˆå°±è§£é”

æ‚¨å·²æˆåŠŸï¼š
- âœ… ç†è§£äº† Manager æ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µ
- âœ… è¿è¡Œäº†è¯­è¨€ç¿»è¯‘ Manager Agent
- âœ… æŒæ¡äº†åˆ›å»º Manager çš„æ–¹æ³•
- âœ… å­¦ä¼šäº†ä¸ Handoffs æ¨¡å¼çš„åŒºåˆ«
- âœ… äº†è§£äº†å®é™…åº”ç”¨åœºæ™¯
- âœ… è·å¾—äº†å®Œæ•´çš„ä»£ç å’Œæ–‡æ¡£

---

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè®®

1. **å°è¯•ä¿®æ”¹ä»£ç **
   - æ·»åŠ å¾·è¯­ã€æ—¥è¯­ç­‰æ›´å¤šè¯­è¨€
   - å®ç°æ¡ä»¶å·¥å…·å¯ç”¨
   - æ·»åŠ è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼

2. **æŸ¥çœ‹é«˜çº§ç¤ºä¾‹**
   - é‡‘èç ”ç©¶ Agent: `examples/financial_research_agent/`
   - ç ”ç©¶æœºå™¨äºº: `examples/research_bot/`

3. **æ„å»ºè‡ªå·±çš„åº”ç”¨**
   - é€‰æ‹©ä¸€ä¸ªåº”ç”¨åœºæ™¯
   - å®šä¹‰ä¸“ä¸šä»£ç†
   - åˆ›å»º Manager åè°ƒå™¨
   - æµ‹è¯•å’Œä¼˜åŒ–

4. **æ·±å…¥å­¦ä¹ **
   - é˜…è¯»æºä»£ç : `src/agents/agent.py`
   - æŸ¥çœ‹æµ‹è¯•: `tests/test_agent_as_tool.py`
   - ç ”ç©¶è¿½è¸ªç³»ç»Ÿ: `src/agents/tracing/`

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤å¤‡å¿˜

```bash
# è¿è¡Œæ¼”ç¤º
python translation_manager_demo.py

# æŸ¥çœ‹å¿«é€Ÿå‚è€ƒ
cat manager_agent_å¿«é€Ÿå‚è€ƒ.md

# æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
cat ç¿»è¯‘Manager_Agentè¯´æ˜.md

# è¿è¡Œå®˜æ–¹ç¤ºä¾‹
python examples/agent_patterns/agents_as_tools.py

# æŸ¥çœ‹ä¸­æ–‡æ–‡æ¡£
cat docs/zh/agents.md | less

# è¿è¡Œæµ‹è¯•
pytest tests/test_agent_as_tool.py -v
```

---

**çŠ¶æ€**: âœ… ä»»åŠ¡å®Œæˆ  
**æ¨¡å¼**: Manager/Orchestrator (Agents as Tools)  
**ç‰ˆæœ¬**: openai-agents 0.4.2  
**æ—¥æœŸ**: 2025-10-31  

ğŸ‰ æ­å–œï¼æ‚¨å·²æˆåŠŸæŒæ¡ Manager Agent æ¨¡å¼ï¼

